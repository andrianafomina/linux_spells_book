# –ó–∞–¥–∞–Ω–∏–µ 3

#–¥–µ–Ω—å_3 –∏–∑ 10! üí•

–í—á–µ—Ä–∞ –≤–æ–∑–Ω–∏–∫–ª–∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å sud–æ. –°–µ–≥–æ–¥–Ω—è –ø–æ—Ç—Ä–∞—Ç–∏–º –≤—Ä–µ–º—è –Ω–∞ —Ç–æ —á—Ç–æ–±—ã —á—É—Ç—å –ø–æ–¥—Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —ç—Ç–∏–º. –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∫–æ–Ω—Ñ–∏–≥–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏—Ö –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é visudo. –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã —Å visudo —è —É–¥–∞–ª–∏–ª —Å —Ö–æ—Å—Ç–∞ nano, —Ç–µ–ø–µ—Ä—å visudo –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç viüòä

–û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å üö∂‚Äç‚ôÇÔ∏èüö∂‚Äç‚ôÇÔ∏èüö∂‚Äç‚ôÇÔ∏è

üí™ sudo config
—Å–¥–µ–ª–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é vasya –≤—ã–ø–æ–ª–Ω—è—Ç—å shutdown –±–µ–∑ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è
–ö—Ä–æ–º–µ —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –ø–æ–º–æ—â—å—é visudo -c

üóí access log
–≤ /tmp/access.log –ª–µ–∂–∏—Ç nginx access log. –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–µ–¥–µ—Ç —Ç–æ–ø 3 –∞–π–ø–∏ –∞–¥—Ä–µ—Å–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —á–∏—Å–ª—É –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö. –≤—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∞–π–ø–∏ –∏ —á–∏—Å–ª–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –Ω–µ–≥–æ

–§–∞–∫—É–ª—å—Ç–∞—Ç–∏–≤–Ω–∞—è —á–∞—Å—Ç—å üèÉ‚Äç‚ôÇÔ∏è üèÉ‚Äç‚ôÇÔ∏è üèÉ‚Äç‚ôÇÔ∏è

üëÆ sudo extra config
—Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ –≥—Ä—É–ø–ø—ã devs –≤—ã–ø–æ–ª–Ω—è—Ç—å docker –±–µ–∑ –ø–∞—Ä–æ–ª—è
—Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ –≥—Ä—É–ø–ø—ã –∞–¥–º–∏–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –ø–∞—Ä–æ–ª—è, –∫—Ä–æ–º–µ  shutdown. shutdown —Å –ø–æ–º–æ—â—å—é sudo —á–ª–µ–Ω—ã –≥—Ä—É–ø–ø—ã –∞–¥–º–∏–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ –¥–æ–ª–∂–Ω—ã
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é vahter –≤—ã–ø–æ–ª–Ω—è—Ç—å shutdown c –ø–∞—Ä–æ–ª–µ–º.
—ç—Ç–∏ –∫–æ–Ω—Ñ–∏–≥–∏ –Ω—É–∂–Ω–æ —Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –ø–æ —Ä–∞–∑–Ω—ã–º —Ñ–∞–π–ª–∞–º –≤ /etc/sudoers.d. –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —ç—Ç–æ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç –∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤. —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ visudo -c –ø–æ —ç—Ç–∏–º –∫–æ–Ω—Ñ–∏–≥–∞–º :)

üòà sudo bastard
–æ–±—ä—è—Å–Ω–∏—Ç–µ –ø–æ—á–µ–º—É  –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ –≤—á–µ—Ä–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è  sudo configuration –Ω–µ —Å–∞–º–∞—è –∫—Ä—É—Ç–∞—è. –≤ —á–µ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø–∞—Å–Ω–æ—Å—Ç—å

üìà extra access log
–°–¥–µ–ª–∞–π—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –≤ –∫–∞–∫–æ–π –∏–∑ —á–∞—Å–æ–≤ –ø—Ä–∏—Ö–æ–¥–∏—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤.
–°–¥–µ–ª–∞–π—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É —Ç–æ–ø 3 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∞–π—Ñ–æ–Ω–∞ —Å 3 –Ω–æ—á–∏ –¥–æ 8 —É—Ç—Ä–∞
–°–¥–µ–ª–∞–π—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É —Ç–æ–ø 3 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —é–∑–µ—Ä –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–º –≤–æ–∑—Ä–∞—â–∞–µ—Ç—Å—è 403
–ü—Ä–∏—à–ª–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –∏—Ö –≤—ã–≤–æ–¥.

üö®üö®üö® –≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ü–∏–∫–ª –ø–µ—Ä–≤—ã—Ö —Ç—Ä–µ—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –¥–Ω–µ–π. —Å–µ–≥–æ–¥–Ω—è –ø—Ä–∏—à–ª—é —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É 1200 —Ä—É–±. –£ –≤—Å–µ—Ö –∫—Ç–æ –æ–ø–ª–∞—Ç–∏–ª –≤ —Å—Ç–∞—Ç—É—Å–µ –ø–æ—è–≤–∏—Ç—Å—è –∑–≤–µ–∑–¥–æ—á–∫–∞ ‚úß.

ü§ù –†–µ–±—è—Ç–∞ —Å —à–∞—Ö–º–∞—Ç–Ω–æ–π —Ñ–∏–≥—É—Ä–æ–π —Å –ø—Ä–æ—à–ª–æ–≥–æ –∑–∞–±–µ–≥–∞, –≤–∞–º –Ω–∞ –ø–æ—á—Ç—É –ø—Ä–∏–π–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É –ø–æ —É—Å–ª–æ–≤–∏—è–º –ø—Ä–æ—à–ª–æ–≥–æ –∑–∞–±–µ–≥–∞.

‚úß‚úß‚úß –í —á–µ—Ç–≤–µ—Ä–≥ —É—Ç—Ä–æ–º –≤ –≥—Ä—É–ø–ø–µ –æ—Å—Ç–∞–Ω—É—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±–ª–∞–¥–∞—Ç–µ–ª–∏ –∑–≤–µ–∑–¥–æ—á–∫–∏ –≤ —Å—Ç–∞—Ç—É—Å–µ.
–≤—Å–µ–º –∫–æ–º—É –¥–∞–ª—å—à–µ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ - —Å–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ —É—á–∞—Å—Ç–∏–µ, –≤—Å–µ –∫—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å - –±—É–¥–µ–º –≤–µ—Å–µ–ª–∏—Ç—å—Å—è –µ—â–µ 7 –¥–Ω–µ–π  üèÉ‚Äç‚ôÇÔ∏è üèÉ‚Äç‚ôÇÔ∏è üèÉ‚Äç‚ôÇÔ∏è